<h2>NHL Bracket Challenge</h2>

<div class="bracket-grid-7">
  <!-- Column 1: West R1 -->
  <div class="column-container">
    <h4>West R1</h4>
    <div class="column">
      <div *ngFor="let m of matchups.west" class="matchup">
        <div
          class="team"
          [class]="getTeamClass(m.id, m.team1)"
          (click)="pickWinner(m.id, m.team1)"
        >
          {{ m.team1 || "\u00A0" }}
        </div>
        <div
          class="team"
          [class]="getTeamClass(m.id, m.team2)"
          (click)="pickWinner(m.id, m.team2)"
        >
          {{ m.team2 || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 2: West R2 -->
  <div class="column-container">
    <h4>West R2</h4>
    <div class="column">
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round2['w-semi']?.[0] || '', userPicks.round2['w-semi']?.[1] || '']"
          [class]="getTeamClass('w-semi', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('w-semi', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round2['w-semi2']?.[0] || '', userPicks.round2['w-semi2']?.[1] || '']"
          [class]="getTeamClass('w-semi2', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('w-semi2', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 3: West Final -->
  <div class="column-container">
    <h4>West Final</h4>
    <div class="column">
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round3['west-final']?.[0] || '', userPicks.round3['west-final']?.[1] || '']"
          [class]="getTeamClass('west-final', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('west-final', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 4: Stanley Cup Final -->
  <div class="column-container">
    <h4>Cup Final</h4>
    <div class="column">
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.final['cup']?.[0] || '', userPicks.final['cup']?.[1] || '']"
          [class]="getTeamClass('cup', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('cup', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 5: East Final -->
  <div class="column-container">
    <h4>East Final</h4>
    <div class="column">
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round3['east-final']?.[0] || '', userPicks.round3['east-final']?.[1] || '']"
          [class]="getTeamClass('east-final', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('east-final', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 6: East R2 -->
  <div class="column-container">
    <h4>East R2</h4>
    <div class="column">
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round2['e-semi']?.[0] || '', userPicks.round2['e-semi']?.[1] || '']"
          [class]="getTeamClass('e-semi', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('e-semi', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
      <div class="matchup">
        <div
          class="team"
          *ngFor="let team of [userPicks.round2['e-semi2']?.[0] || '', userPicks.round2['e-semi2']?.[1] || '']"
          [class]="getTeamClass('e-semi2', team)"
          [class.disabled]="!isTeamSelectable(team)"
          (click)="isTeamSelectable(team) && pickWinner('e-semi2', team)"
        >
          {{ team || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>

  <!-- Column 7: East R1 -->
  <div class="column-container">
    <h4>East R1</h4>
    <div class="column">
      <div *ngFor="let m of matchups.east" class="matchup">
        <div
          class="team"
          [class]="getTeamClass(m.id, m.team1)"
          (click)="pickWinner(m.id, m.team1)"
        >
          {{ m.team1 || "\u00A0" }}
        </div>
        <div
          class="team"
          [class]="getTeamClass(m.id, m.team2)"
          (click)="pickWinner(m.id, m.team2)"
        >
          {{ m.team2 || "\u00A0" }}
        </div>
      </div>
    </div>
  </div>
</div>
<div class="button-row">
  <button class="bracket-button" (click)="savePicks()">ðŸ’¾ Save Picks</button>
  <button class="bracket-button" (click)="resetBracket()">
    ðŸ”„ Reset Bracket
  </button>
</div>
